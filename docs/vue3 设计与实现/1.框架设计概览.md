# 框架设计概览



## 框架设计与开发方式

### 命令式开发(关注过程)

使用原生程序的方法按一定步骤进行功能实现;因此特别关追过程;

### 声明式开发(关注结果)

将原生程序的功能实现逻辑步骤进行封装,返回程序结果;因此特别关注结果;



## 框架性能与维护的权衡

对 `Vue3` 框架来说,其内部实现已托于`命令式开发`,在使用过程中采用`声明式开发`;然而在`开发中,开发者只需考虑功能实现`,因此更注重于`程序的维护性`;



### 框架性能

对于框架性能来讲,常见的操作 `DOM`,有 `innerHTML 赋值`、 `虚拟 DOM`、`JavaScript 原生操作`;

从性能上来讲, 它们的性能关系:  `innerHTML 赋值` <  `虚拟 DOM` < `JavaScript 原生操作`;



### 框架维护

对于框架性能来讲,常见的操作 `DOM`,有 `innerHTML 赋值`、 `虚拟 DOM`、`JavaScript 原生操作`;

从维护上来讲, 它们的维护关系:  `JavaScript 原生操作` <  `innerHTML 赋值` <  `虚拟 DOM` ;



### 框架心智负担

心智负担,是指在执行某一程序中,所需要考虑额外的或未来需要解决的问题;例如`数据判空`、`检测数据类型`、`兼容处理的方法`、`程序异常处理`、`函数参数传值` 等等情况;

从心智负担来讲,常见的优化策略有以下方法:

- 使用功能、文档齐全的简单框架;
- 使用 `eslint`、`prettier`等格式化代码工具规范编码;
- 使用 `TypeScript` 进行类型声明,规范程序书写;
- 封装或复用公共方法

对于框架性能来讲,常见的操作 `DOM`,有 `innerHTML 赋值`、 `虚拟 DOM`、`JavaScript 原生操作`;

从心智负担上来讲, 它们的心智关系:   `虚拟 DOM` <  `innerHTML 赋值` < `JavaScript 原生操作`;





## 框架的运行环境



### 运行时环境(runtime)

利用函数 `render()` 将 `虚拟 DOM` 转换为 `真实 DOM`; 无编译过程,即无法获取用户所提供的内容;



### 编译时环境(compiler)

将 `template 模板内容` 转换为 `真实 DOM`; 可获取到用户所提供的内容;因为没有运行,因此理论上性能最好;比如 `Svelte` 框架;





### (编译 + 运行)时环境

将 `template 模板内容` 转换为 `虚拟 DOM`, 再通过函数 `render()`转换为 `真实 DOM`; 在编译时,能获取用户所提供的内容;在运行时能提供足够的灵活性;