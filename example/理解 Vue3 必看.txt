Vue3 源码解读顺序,如下:

1. 理解 h 函数返回值信息(编译原理: (parse、transform、generate) 三部曲 => 返回虚拟DOM)
2. 理解 moute 函数的参数与作用
3. 理解 patch 函数对 vnode 新旧节点的更新逻辑
4. 理解副作用函数(与 Vue 添加依赖的条件)
5. 理解 Object.defineProperty() 与访问器 get、set
6. 理解代理 Proxy 与反射 Reflect
7. 理解订阅者模式与观察者模式(区别: 观察=>值变化就通知,连贯操作;订阅=>值变化与通知是2步骤)
8. 理解数据结构 WeakMap、WeakSet、Map、Set 区别(垃圾回收机制)


Vue3 为什么还坚持采用 虚拟 DON 等更新机制?
尤雨溪在谈及其它编译策略时,考虑到模板编译的形式;
如命令式的 DOM 操作,但这样会形成一条命令列表,这非常有效,但它绕过了模板编译的能力;
使用 Vue3 模板编译能力,直接编写渲染函数,对库的作者来讲,这种能力很重要;
而 Vue3 模板编译能力的好处,它支持跨平台,而且在组件更新机制中能够更好的体现差异;
